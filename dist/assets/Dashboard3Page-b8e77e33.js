import{r as o,a as N,b as C,j as r,D as A,E as S,H as $,J as P,K as D,N as w,m as d,y as O}from"./index-35bd031f.js";import{_}from"./PuffLoader-306e1049.js";const E=()=>{const[c,t]=o.useState([]),[v,i]=o.useState(null),[y,m]=o.useState(null),[b,l]=o.useState(!1),[h,F]=o.useState(""),[u,I]=o.useState(""),[g,H]=o.useState(""),n=o.useRef(null);o.useEffect(()=>{n.current&&n.current.abort();const s=new AbortController;n.current=s;const a=s.signal;return(async()=>{l(!0);const{data:x}=await d.get("/api/customer/getAllCustomers",{signal:a});t(x),i(x.currentPage),m(x.totalPages),l(!1)})(),()=>{n.current.abort()}},[]);const k=async()=>{if(h!==""){l(!0);const{data:s}=await d.get(`/api/customer/getAllCustomers?name=${h}&email=${h}`);t(s),l(!1)}},p=async()=>{let s=v+1;if(s<=y){l(!0);const{data:a}=await d.get(`/api/customer/getAllCustomers?page=${s}&sortField=${g}&sortOrder=${u}`);i(a.currentPage),t(a),l(!1)}},f=async()=>{let s=v-1;if(s>0){l(!0);const{data:a}=await d.get(`/api/customer/getAllCustomers?page=${s}&sortField=${g}&sortOrder=${u}`);i(a.currentPage),t(a),l(!1)}};N();const j=C(s=>s.color.darkmode);console.log("Darkmode dashboard",j);const e=j==="On";return r.jsxs("div",{className:"cst-wrapper",children:[r.jsxs("div",{className:"cst-header",children:[r.jsx("p",{style:{color:e?"var(--light-secondary-color)":"var(--dark-secondary-color)"},children:"Customer List"}),r.jsxs("div",{children:[r.jsx("div",{style:{background:"#f1f6fc",display:"none"}}),r.jsx("div",{children:r.jsx("button",{onClick:k,className:"cst-search-btn",style:{border:"none",background:e?"var(--dark-secondary-color)":"var(--light-secondary-color)",color:e?"var(--light-secondary-color)":"var(--dark-secondary-color)"},children:r.jsx(A,{})})})]})]}),r.jsxs("div",{className:`cst-table ${e?"cst-table_dark":""}`,children:[r.jsxs("main",{className:`cst-barberitem ${e?"cst-barberitem_dark":""}`,children:[r.jsx("div",{children:r.jsx("div",{children:r.jsx("h4",{style:{color:e?"var(--light-secondary-color)":"var(--dark-secondary-color)"},children:"Salon ID"})})}),r.jsx("div",{children:r.jsx("div",{children:r.jsx("h4",{style:{color:e?"var(--light-secondary-color)":"var(--dark-secondary-color)"},children:"Name"})})}),r.jsx("div",{children:r.jsx("div",{children:r.jsx("h4",{style:{color:e?"var(--light-secondary-color)":"var(--dark-secondary-color)"},children:"Email"})})}),r.jsx("div",{children:r.jsx("div",{children:r.jsx("h4",{style:{color:e?"var(--light-secondary-color)":"var(--dark-secondary-color)"},children:"Gender"})})}),r.jsx("div",{children:r.jsx("h4",{style:{color:e?"var(--light-secondary-color)":"var(--dark-secondary-color)"},children:"Mobile Number"})}),r.jsx("div",{className:"icons-bbr",style:{background:e?"var(--dark-secondary-color)":"var(--light-secondary-color)"},children:r.jsx(S,{style:{color:e?"var(--light-secondary-color)":"var(--dark-secondary-color)"}})}),r.jsx("div",{className:"icons-bbr",style:{background:e?"var(--dark-secondary-color)":"var(--light-secondary-color)"},children:r.jsx($,{style:{color:e?"var(--light-secondary-color)":"var(--dark-secondary-color)"}})}),r.jsx("div",{className:"icons-bbr",style:{background:e?"var(--dark-secondary-color)":"var(--light-secondary-color)"},children:r.jsx(P,{style:{color:e?"var(--light-secondary-color)":"var(--dark-secondary-color)"}})})]}),b?r.jsx("div",{className:"cst-puff-loader-box",children:r.jsx(_,{})}):c&&c.getAllCustomers?c==null?void 0:c.getAllCustomers.map((s,a)=>r.jsxs("main",{className:`cst-barberitem ${e?"cst-barberitem_dark":""}`,children:[r.jsx("div",{children:r.jsx("p",{children:s.salonId})}),r.jsx("div",{children:r.jsx("p",{children:s.name})}),r.jsx("div",{children:r.jsx("p",{children:s.email})}),r.jsx("div",{children:r.jsx("p",{children:s.gender})}),r.jsx("div",{children:r.jsx("p",{children:s.mobileNumber})})]},a)):r.jsx("div",{className:"cst-no-barber-box",children:r.jsx("p",{children:"No Customers Present"})})]}),r.jsx("div",{className:`cst-barber-pagination ${e?"cst-barber-pagination_dark":""}`,children:r.jsxs("div",{style:{display:"flex",gap:"1.5rem"},children:[r.jsx("div",{onClick:f,children:r.jsx(D,{style:{color:"var(--dark-secondary-color)"}})}),r.jsx("div",{onClick:p,children:r.jsx(w,{style:{color:"var(--dark-secondary-color)"}})})]})})]})},G=()=>r.jsxs(r.Fragment,{children:[r.jsx(O,{title:""}),r.jsx(E,{})]});export{G as default};
